## Troubleshooting performance of tableau live connections to SQL Server - part 1. BASICS.

üëã Hello everyone, wish you enjoy reading these findings I've gathered over a couple of years working with this type of scenario
This is part 2 where we discuss specific symptoms and troubleshooting steps.

I want to stress that the article is written with love and respect to this wonderful tool - don't misinterpret this as biased critics.

### Not obvious stuff done by Tableau under-the-hood

Here is a list of things that Tableau does to retrieve data for you - and the things that make your SQL Server yield suboptimal performance.

1. Tableau generates a distinct query for each filter you have on a dashboard,
   Yes, and every time a user presses refresh, the DB is asked to retrieve a distinct query. 
2. Tableau executes queries sequentially (if there are too many ‚Äì then it shows in performance),
3. Tableau generates ugly joins with subqueries
4. Tableau generates bad type conversions (i.e. call everything nvarchar (9000)),
5. LOD‚Äôs normally show up very poor in the code - very bad for performance,
6. WHERE predicates generated by Tableau are often far too complex for the DB to pick the right index and are non-sargable,
7. Some formulas yield code like ‚ÄúCASE WHEN 1=0 THEN ‚Ä¶. ELSE ‚Ä¶ END‚Äù,
